!function(){function e(t,r){return this instanceof e?(r=r||{},this.tagName=r.tagName||"span",this.classPrefix=null!=r.classPrefix?r.classPrefix:"char",this.count=1,this.traverse(t),t):new e(t,r)}e.prototype.inject=function(e){for(var t=e.parentNode,r=e.nodeValue,n=r.length,i=-1;++i<n;){var s=document.createElement(this.tagName);this.classPrefix&&(s.className=this.classPrefix+this.count,this.count++),s.appendChild(document.createTextNode(r[i])),t.insertBefore(s,e)}return t.removeChild(e),e},e.prototype.traverse=function(e){if(e.nodeType===Node.TEXT_NODE)return this.inject(e);var t=Array.prototype.slice.call(e.childNodes),r=t.length;if(1===r&&t[0].nodeType===Node.TEXT_NODE)return this.inject(t[0]),e;for(var n=-1;++n<r;)this.traverse(t[n]);return e},"object"==typeof module?module.exports=e:this.charming=e}();